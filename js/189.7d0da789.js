"use strict";(self["webpackChunkw6_2"]=self["webpackChunkw6_2"]||[]).push([[189],{530:function(t,n,i){function e(t){return{all:t=t||new Map,on:function(n,i){var e=t.get(n);e?e.push(i):t.set(n,[i])},off:function(n,i){var e=t.get(n);e&&(i?e.splice(e.indexOf(i)>>>0,1):t.set(n,[]))},emit:function(n,i){var e=t.get(n);e&&e.slice().map((function(t){t(i)})),(e=t.get("*"))&&e.slice().map((function(t){t(n,i)}))}}}i.d(n,{Z:function(){return s}});const o=e();var s=o},189:function(t,n,i){i.r(n),i.d(n,{default:function(){return x}});var e=i(252),o=i(577),s=i(963);const d={class:"container"},a=(0,e._)("h2",null,"購物車",-1),l={class:"table align-middle"},r=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"圖片"),(0,e._)("th",null,"商品名稱"),(0,e._)("th",null,"價格"),(0,e._)("th")])],-1),c={style:{width:"200px"}},u={key:0,class:"h5"},p={key:1},h={class:"h6"},g={class:"h5"},_={class:"btn-group btn-group-sm"},b=["disabled","onClick"],v=["disabled","onClick"],f={class:"spinner-border spinner-border-sm",role:"status"},m=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),w=[m],k=(0,e.Uk)(" 加到購物車 ");function y(t,n,i,m,y,C){return(0,e.wg)(),(0,e.iD)("div",d,[a,(0,e._)("table",l,[r,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(y.products,(n=>((0,e.wg)(),(0,e.iD)("tr",{key:n+"123"},[(0,e._)("td",c,[(0,e._)("div",{style:(0,o.j5)([{backgroundImage:`url(${n.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),(0,e._)("td",null,(0,o.zw)(n.title),1),(0,e._)("td",null,[n.origin_price===n.price?((0,e.wg)(),(0,e.iD)("div",u,(0,o.zw)(n.price)+" 元 ",1)):((0,e.wg)(),(0,e.iD)("div",p,[(0,e._)("del",h,"原價 "+(0,o.zw)(n.origin_price)+" 元",1),(0,e._)("div",g,"現在只要 "+(0,o.zw)(n.price)+" 元",1)]))]),(0,e._)("td",null,[(0,e._)("div",_,[(0,e._)("button",{disabled:y.isLoadingItem===n.id,onClick:i=>t.openProductModal(n.id),type:"button",class:"btn btn-outline-secondary"}," 查看更多 ",8,b),(0,e._)("button",{disabled:y.isLoadingItem===n.id,onClick:t=>C.addToCart(n.id),type:"button",class:"btn btn-outline-danger"},[(0,e.wy)((0,e._)("div",f,w,512),[[s.F8,y.isLoadingItem===n.id]]),k],8,v)])])])))),128))])])])}var C=i(530),I={data(){return{cartData:{},products:[],isLoadingItem:" "}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2//api/david-frontend/products/all").then((t=>{this.products=t.data.products}))},addToCart(t,n=1){const i={product_id:t,qty:n};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/david-frontend/cart",{data:i}).then((t=>{console.log("購物車",t),this.isLoadingItem="",C.Z.emit("get-cart")}))}},mounted(){this.getProducts()}},L=i(744);const D=(0,L.Z)(I,[["render",y]]);var x=D}}]);
//# sourceMappingURL=189.7d0da789.js.map